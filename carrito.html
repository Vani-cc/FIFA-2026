<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Carrito de Compras - Mundial 2026</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .carrito {
      max-width: 900px;
      margin: 60px auto 40px;
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 15px;
      color: white;
    }

    .carrito h2 {
      text-align: center;
      margin-bottom: 25px;
    }

    .producto-carrito {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
      border-bottom: 1px solid rgba(255,255,255,0.2);
      padding-bottom: 15px;
    }

    .producto-carrito img {
      width: 80px;
      height: 80px;
      object-fit: contain;
      margin-right: 20px;
      border-radius: 10px;
      background: white;
    }

    .producto-info {
      flex: 1;
    }

    .producto-info h3 {
      margin-bottom: 5px;
    }

    .producto-info p {
      font-size: 0.9rem;
      opacity: 0.8;
      margin-bottom: 5px;
    }

    .producto-precio {
      font-weight: bold;
      min-width: 80px;
      text-align: right;
    }

    .btn-quitar {
      background: none;
      border: none;
      color: #e63946;
      cursor: pointer;
      font-size: 1.5rem;
      margin-left: 15px;
      transition: transform 0.2s ease;
    }

    .btn-quitar:hover {
      transform: scale(1.2);
    }

    .carrito-vacio {
      text-align: center;
      font-size: 1.2rem;
      margin-top: 40px;
      opacity: 0.8;
    }

    .total-carrito {
      text-align: right;
      margin-top: 25px;
      font-size: 1.3rem;
      font-weight: bold;
    }

    .btn-finalizar {
      display: block;
      margin: 30px auto 0;
      padding: 12px 30px;
      background-color: #008037;
      border: none;
      border-radius: 25px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s ease;
    }

    .btn-finalizar:hover {
      background-color: #00652a;
    }
  </style>
</head>
<body class="home">
  <header>
    <div class="logo">
      <img src="imagenes/logo.png" alt="Carrito de Compras" />
      <h1>Carrito de Compras</h1>
    </div>
    <nav>
      <a href="index.html">Inicio</a>
      <a href="productos.html">Productos</a>
      <a href="favoritos.html">Favoritos</a>
      <a href="carrito.html">Carrito</a>
    </nav>
  </header>

  <section class="carrito">
    <h2>Tu carrito</h2>
    <div id="productos-carrito"></div>
    <p id="carrito-vacio" class="carrito-vacio" style="display:none;">Tu carrito está vacío.</p>
    <p id="total-carrito" class="total-carrito"></p>
    <button id="btn-finalizar" class="btn-finalizar" style="display:none;">Finalizar compra</button>
  </section>

  <footer>
    <p>© 2026 Tienda Mundial. Todos los derechos reservados.</p>
  </footer>

  <script>
    const productosDisponibles = [
      {
        id: "camiseta-oficial",
        nombre: "Camiseta Oficial",
        descripcion: "Edición limitada del Mundial 2026.",
        precio: 69.00,
        precioStr: "$69.00 USD",
        imagen: "img/camiseta-oficial.png"
      },
      {
        id: "balon-oficial",
        nombre: "Balón Mundial",
        descripcion: "Balón oficial del Mundial 2026.",
        precio: 49.00,
        precioStr: "$49.00 USD",
        imagen: "img/balon-oficial.png"
      },
      {
        id: "gorra",
        nombre: "Gorra Tricolor",
        descripcion: "Apoya a tu selección con estilo.",
        precio: 25.00,
        precioStr: "$25.00 USD",
        imagen: "img/gorra.png"
      },
      {
        id: "bufanda",
        nombre: "Bufanda del Aficionado",
        descripcion: "Ideal para alentar desde la tribuna.",
        precio: 19.00,
        precioStr: "$19.00 USD",
        imagen: "img/bufanda.png"
      },
      {
        id: "poster",
        nombre: "Póster Edición Especial",
        descripcion: "Diseño coleccionable del Mundial.",
        precio: 15.00,
        precioStr: "$15.00 USD",
        imagen: "img/poster.png"
      }
    ];

    let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

    const contenedor = document.getElementById("productos-carrito");
    const carritoVacio = document.getElementById("carrito-vacio");
    const totalCarrito = document.getElementById("total-carrito");
    const btnFinalizar = document.getElementById("btn-finalizar");

    function mostrarCarrito() {
      contenedor.innerHTML = "";

      if (carrito.length === 0) {
        carritoVacio.style.display = "block";
        totalCarrito.textContent = "";
        btnFinalizar.style.display = "none";
        return;
      }

      carritoVacio.style.display = "none";
      btnFinalizar.style.display = "block";

      let total = 0;

      carrito.forEach(idProducto => {
        const producto = productosDisponibles.find(p => p.id === idProducto);
        if (!producto) return;

        total += producto.precio;

        const div = document.createElement("div");
        div.classList.add("producto-carrito");
        div.setAttribute("data-id", producto.id);

        div.innerHTML = `
          <img src="${producto.imagen}" alt="${producto.nombre}" />
          <div class="producto-info">
            <h3>${producto.nombre}</h3>
            <p>${producto.descripcion}</p>
          </div>
          <span class="producto-precio">${producto.precioStr}</span>
          <button class="btn-quitar" title="Quitar del carrito">&times;</button>
        `;

        div.querySelector(".btn-quitar").addEventListener("click", () => {
          carrito = carrito.filter(id => id !== producto.id);
          localStorage.setItem("carrito", JSON.stringify(carrito));
          mostrarCarrito();
        });

        contenedor.appendChild(div);
      });

      totalCarrito.textContent = `Total: $${total.toFixed(2)} USD`;
    }

    btnFinalizar.addEventListener("click", () => {
      alert("Gracias por tu compra. ¡Disfruta el Mundial 2026! 🎉");
      carrito = [];
      localStorage.setItem("carrito", JSON.stringify(carrito));
      mostrarCarrito();
    });

    mostrarCarrito();
  </script>
</body>
</html>
